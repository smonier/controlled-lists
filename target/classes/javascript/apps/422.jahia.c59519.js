(self.webpackChunkcontrolled_lists=self.webpackChunkcontrolled_lists||[]).push([[422],{1696:(e,t,r)=>{var n=r(5072),a=r(3983);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.id,a,""]]);n(a,{insert:"head",singleton:!1}),e.exports=a.locals||{}},3983:(e,t,r)=>{(t=r(6314)(!1)).push([e.id,"._1PQH6q0mtbs4crV1y6q9qy{display:flex;flex-direction:column;gap:16px}._1A05Oh_PN9Msb5g83hN8nL{display:flex;gap:24px;padding:24px;background:#fff;border-radius:8px;box-shadow:0 10px 30px rgba(20,46,110,.08)}._3cPq4N1KSjwiBOX1DkH9LO{width:280px;display:flex;flex-direction:column;gap:16px}._2VoRZmBKI4EuRCbW3mff0t{display:flex;flex-direction:column;gap:8px;max-height:500px;overflow-y:auto;padding-right:4px}._3VG3297pCbJuXKNadjRvkR{display:flex;justify-content:space-between;align-items:center;padding:10px 12px;border-radius:6px;border:1px solid #dfe4ef;background:#f9fbff;color:#2d3c5a;font-weight:500;cursor:pointer;transition:all .15s ease-in-out}._17nxPW6a6DUqYLMS9h14Yy{border-color:#2681ff;background:rgba(38,129,255,.1);color:#0c2c66}._3igPUo8BnUO_wc31tr_H-g{flex:1;display:flex;flex-direction:column;gap:16px}._3n6apRuumcI6wNujWpKraS{padding:20px;border-radius:8px;border:1px solid #e0e7ff;background:#fff;box-shadow:0 4px 14px rgba(21,34,50,.05)}._1j-tnyn89SnwOC9kJMQ3Xp{display:flex;flex-direction:column;gap:6px;margin-bottom:14px}._38bw5B7WvGqDqaNaGaFX98{min-height:90px;padding:10px;border-radius:6px;border:1px solid #d7deef;font-size:14px;resize:vertical;font-family:inherit}.OwGuLXezbhuJW-eHPSsru{padding:12px 14px;border-radius:6px;font-weight:500}.p1DO0IJ-_-63KEQDSUYBj{background:#e5f5ed;color:#126235;border:1px solid rgba(18,98,53,.3)}._3zASdNW_fBcrOxlM7hNN1v{background:#fdeaea;color:#aa1b1b;border:1px solid rgba(170,27,27,.3)}",""]),t.locals={layout:"_1PQH6q0mtbs4crV1y6q9qy",container:"_1A05Oh_PN9Msb5g83hN8nL",listPanel:"_3cPq4N1KSjwiBOX1DkH9LO",listsContainer:"_2VoRZmBKI4EuRCbW3mff0t",listButton:"_3VG3297pCbJuXKNadjRvkR",listButtonActive:"_17nxPW6a6DUqYLMS9h14Yy",contentPanel:"_3igPUo8BnUO_wc31tr_H-g",card:"_3n6apRuumcI6wNujWpKraS",formGroup:"_1j-tnyn89SnwOC9kJMQ3Xp",textarea:"_38bw5B7WvGqDqaNaGaFX98",feedback:"OwGuLXezbhuJW-eHPSsru",feedbackSuccess:"p1DO0IJ-_-63KEQDSUYBj",feedbackError:"_3zASdNW_fBcrOxlM7hNN1v"},e.exports=t},5422:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>$});var n=r(3119),a=r(2816),l=r(9352),i=r(2207),s=r.n(i);const o="/controlled-lists";var u=r(8388),c=r(3262),d=r.n(c),p=r(5066),m=r(2505),f=r.n(m),b=r(1658),v="\n    mutation DeleteControlledListNode($path: String!) {\n        jcr(workspace: EDIT) {\n            deleteNode(pathOrId: $path)\n        }\n    }\n",g=r(1696),y=r.n(g);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach(function(t){(0,u.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var E={uuid:null,path:"",systemName:"",title:"",description:""},k={uuid:null,path:"",value:"",label:"",description:""},w=function(e,t,r){var n=function(e){return e.toString().normalize("NFKD").replace(/[\u0300-\u036f]/g,"").replace(/[^\w\s-]/g,"").trim().replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"").toLowerCase()}(e)||r;if(!t.includes(n))return n;for(var a=1;t.includes("".concat(n,"-").concat(a));)a+=1;return"".concat(n,"-").concat(a)},C=function(e){return window.confirm(e)},N=function(e){var t,r,n,a;return{uuid:e.uuid,path:e.path,name:e.name,systemName:(null===(t=e.systemName)||void 0===t?void 0:t.value)||"",title:(null===(r=e.title)||void 0===r?void 0:r.value)||e.name,description:(null===(n=e.description)||void 0===n?void 0:n.value)||"",terms:((null===(a=e.children)||void 0===a?void 0:a.nodes)||[]).map(function(e){var t,r,n;return{uuid:e.uuid,path:e.path,name:e.name,value:(null===(t=e.termValue)||void 0===t?void 0:t.value)||"",label:(null===(r=e.termLabel)||void 0===r?void 0:r.value)||"",description:(null===(n=e.termDescription)||void 0===n?void 0:n.value)||""}})}},T=function(){var e,t=(0,b.useTranslation)("controlled-lists").t,r=window.contextJsParameters||{},n=r.siteKey||(null===(e=r.site)||void 0===e?void 0:e.key)||"",i=r.uilang||r.lang||r.language||"en",o="".concat(r.contextPath||"","/modules/graphql"),m=(0,c.useState)(""),g=(0,l.A)(m,2),h=g[0],T=g[1],S=(0,c.useState)([]),P=(0,l.A)(S,2),A=P[0],j=P[1],L=(0,c.useState)(null),O=(0,l.A)(L,2),D=O[0],B=O[1],_=(0,c.useState)(!1),$=(0,l.A)(_,2),I=$[0],q=$[1],R=(0,c.useState)(E),U=(0,l.A)(R,2),z=U[0],G=U[1],J=(0,c.useState)(k),H=(0,l.A)(J,2),M=H[0],V=H[1],K=(0,c.useState)(!1),W=(0,l.A)(K,2),F=W[0],X=W[1],Q=(0,c.useState)(!1),Y=(0,l.A)(Q,2),Z=Y[0],ee=Y[1],te=(0,c.useState)(!1),re=(0,l.A)(te,2),ne=re[0],ae=re[1],le=(0,c.useState)(null),ie=(0,l.A)(le,2),se=ie[0],oe=ie[1],ue=(0,c.useState)(null),ce=(0,l.A)(ue,2),de=ce[0],pe=ce[1],me=(0,c.useCallback)(function(){var e=(0,a.A)(s().mark(function e(t,r){var n,a,l;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,f().post(o,{query:t,variables:r},{headers:{"Content-Type":"application/json"},withCredentials:!0});case 1:if(a=e.sent,null===(n=a.data)||void 0===n||null===(n=n.errors)||void 0===n||!n.length){e.next=2;break}throw l=a.data.errors.map(function(e){return e.message}).join("\n"),new Error(l);case 2:return e.abrupt("return",a.data.data);case 3:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}(),[o]),fe=(0,c.useMemo)(function(){return A.find(function(e){return e.uuid===D})||null},[A,D]);(0,c.useEffect)(function(){if(se){var e=setTimeout(function(){return oe(null)},5e3);return function(){return clearTimeout(e)}}},[se]);var be=(0,c.useCallback)((0,a.A)(s().mark(function e(){var r,a,l,i;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=1;break}throw new Error(t("errors.missingSite"));case 1:return a="/sites/".concat(n,"/contents"),l="".concat(a,"/controlled-lists"),e.next=2,me("\n    query ControlledListsRoot($path: String!) {\n        jcr {\n            nodeByPath(path: $path) {\n                uuid\n                path\n            }\n        }\n    }\n",{path:l});case 2:if(null!=(i=e.sent)&&null!==(r=i.jcr)&&void 0!==r&&r.nodeByPath){e.next=3;break}return e.next=3,me('\n    mutation CreateControlledListsRoot($parentPath: String!) {\n        jcr(workspace: EDIT) {\n            addNode(\n                parentPathOrId: $parentPath\n                name: "controlled-lists"\n                primaryNodeType: "cl:listsFolder"\n            ) {\n                uuid\n            }\n        }\n    }\n',{parentPath:a});case 3:return e.abrupt("return",l);case 4:case"end":return e.stop()}},e)})),[me,n,t]),ve=(0,c.useCallback)(function(){var e=(0,a.A)(s().mark(function e(t,r){var n,a,l,o,u;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=1;break}return e.abrupt("return");case 1:return X(!0),pe(null),e.prev=2,e.next=3,me('\n    query ControlledLists($rootPath: String!, $language: String!) {\n        jcr {\n            nodeByPath(path: $rootPath) {\n                uuid\n                path\n                children(typesFilter: {types: ["cl:controlledList"]}) {\n                    nodes {\n                        uuid\n                        path\n                        name\n                        systemName: property(name: "cl:systemName") {\n                            value\n                        }\n                        title: property(name: "cl:title", language: $language) {\n                            value\n                        }\n                        description: property(name: "cl:description", language: $language) {\n                            value\n                        }\n                        children(typesFilter: {types: ["cl:controlledTerm"]}) {\n                            nodes {\n                                uuid\n                                path\n                                name\n                                termValue: property(name: "cl:value") {\n                                    value\n                                }\n                                termLabel: property(name: "cl:label", language: $language) {\n                                    value\n                                }\n                                termDescription: property(name: "cl:description", language: $language) {\n                                    value\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n',{rootPath:t,language:i});case 3:a=e.sent,(l=((null==a||null===(n=a.jcr)||void 0===n||null===(n=n.nodeByPath)||void 0===n||null===(n=n.children)||void 0===n?void 0:n.nodes)||[]).map(N)).sort(function(e,t){return e.title.localeCompare(t.title,i,{sensitivity:"base"})}),j(l),r?(B(r),q(!1)):I||l.some(function(e){return e.uuid===D})||B((null===(o=l[0])||void 0===o?void 0:o.uuid)||null),e.next=5;break;case 4:e.prev=4,u=e.catch(2),pe(u);case 5:return e.prev=5,X(!1),e.finish(5);case 6:case"end":return e.stop()}},e,null,[[2,4,5,6]])}));return function(t,r){return e.apply(this,arguments)}}(),[me,i,D,I]);(0,c.useEffect)(function(){var e=!0,r=function(){var r=(0,a.A)(s().mark(function r(){var a,l;return s().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(n){r.next=1;break}return pe(new Error(t("errors.missingSite"))),r.abrupt("return");case 1:return r.prev=1,r.next=2,be();case 2:if(a=r.sent,e){r.next=3;break}return r.abrupt("return");case 3:return T(a),r.next=4,ve(a);case 4:r.next=6;break;case 5:r.prev=5,l=r.catch(1),e&&pe(l);case 6:case"end":return r.stop()}},r,null,[[1,5]])}));return function(){return r.apply(this,arguments)}}();return r(),function(){e=!1}},[be,ve,n,t]),(0,c.useEffect)(function(){G(I?x({},E):fe?{uuid:fe.uuid,path:fe.path,systemName:fe.systemName,title:fe.title,description:fe.description}:x({},E)),V(x({},k))},[fe,I]);var ge=function(e,t){G(function(r){return x(x({},r),{},(0,u.A)({},e,t))})},ye=function(e,t){V(function(r){return x(x({},r),{},(0,u.A)({},e,t))})},he=function(e,r){oe({type:e,message:t(r)})},xe=function(){var e=(0,a.A)(s().mark(function e(r){var n,a,l,o,u,c,d,p,m,f;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),h){e.next=1;break}return e.abrupt("return");case 1:if(n=z.systemName.trim(),a=z.title.trim(),l=z.description.trim(),n&&a){e.next=2;break}return oe({type:"error",message:t("errors.requiredFields")}),e.abrupt("return");case 2:if(!A.some(function(e){return e.uuid!==z.uuid&&e.systemName.toLowerCase()===n.toLowerCase()})){e.next=3;break}return oe({type:"error",message:t("errors.duplicateSystemName",{name:n})}),e.abrupt("return");case 3:if(o=[{name:"cl:systemName",value:n},{name:"cl:title",value:a,language:i},{name:"cl:description",value:l||"",language:i}],ee(!0),e.prev=4,!I){e.next=7;break}return c=A.map(function(e){return e.name}),d=w(n,c,"controlled-list"),e.next=5,me('\n    mutation CreateControlledList($parentPath: String!, $name: String!, $properties: [InputJCRProperty]!) {\n        jcr(workspace: EDIT) {\n            addNode(\n                parentPathOrId: $parentPath\n                name: $name\n                primaryNodeType: "cl:controlledList"\n                properties: $properties\n            ) {\n                uuid\n            }\n        }\n    }\n',{parentPath:h,name:d,properties:o});case 5:return p=e.sent,m=(null==p||null===(u=p.jcr)||void 0===u||null===(u=u.addNode)||void 0===u?void 0:u.uuid)||null,he("success","feedback.listCreated"),q(!1),e.next=6,ve(h,m);case 6:e.next=9;break;case 7:if(!fe){e.next=9;break}return e.next=8,me("\n    mutation UpdateControlledList($path: String!, $properties: [InputJCRProperty]!) {\n        jcr(workspace: EDIT) {\n            mutateNode(pathOrId: $path) {\n                setPropertiesBatch(properties: $properties) {\n                    property {\n                        name\n                    }\n                }\n                uuid\n            }\n        }\n    }\n",{path:fe.path,properties:o});case 8:return he("success","feedback.listUpdated"),e.next=9,ve(h,fe.uuid);case 9:e.next=11;break;case 10:e.prev=10,f=e.catch(4),oe({type:"error",message:f.message});case 11:return e.prev=11,ee(!1),e.finish(11);case 12:case"end":return e.stop()}},e,null,[[4,10,11,12]])}));return function(t){return e.apply(this,arguments)}}(),Ee=function(){var e=(0,a.A)(s().mark(function e(r){var n;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(h&&r){e.next=1;break}return e.abrupt("return");case 1:if(C(t("lists.deleteConfirm",{title:r.title}))){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=3,me(v,{path:r.path});case 3:return he("success","feedback.listDeleted"),e.next=4,ve(h);case 4:e.next=6;break;case 5:e.prev=5,n=e.catch(2),oe({type:"error",message:n.message});case 6:case"end":return e.stop()}},e,null,[[2,5]])}));return function(t){return e.apply(this,arguments)}}(),ke=function(){var e=(0,a.A)(s().mark(function e(r){var n,a,l,o,u,c,d;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),fe){e.next=1;break}return e.abrupt("return");case 1:if(n=M.value.trim(),a=M.label.trim(),l=M.description.trim(),n&&a){e.next=2;break}return oe({type:"error",message:t("errors.requiredFields")}),e.abrupt("return");case 2:if(!fe.terms.some(function(e){return e.uuid!==M.uuid&&e.value.toLowerCase()===n.toLowerCase()})){e.next=3;break}return oe({type:"error",message:t("errors.duplicateTermValue",{value:n})}),e.abrupt("return");case 3:if(o=[{name:"cl:value",value:n},{name:"cl:label",value:a,language:i},{name:"cl:description",value:l||"",language:i}],ae(!0),e.prev=4,!M.uuid){e.next=6;break}return e.next=5,me("\n    mutation UpdateControlledTerm($path: String!, $properties: [InputJCRProperty]!) {\n        jcr(workspace: EDIT) {\n            mutateNode(pathOrId: $path) {\n                setPropertiesBatch(properties: $properties) {\n                    property {\n                        name\n                    }\n                }\n                uuid\n            }\n        }\n    }\n",{path:M.path,properties:o});case 5:he("success","feedback.termUpdated"),e.next=8;break;case 6:return u=fe.terms.map(function(e){return e.name}),c=w(n,u,"controlled-term"),e.next=7,me('\n    mutation CreateControlledTerm($parentPath: String!, $name: String!, $properties: [InputJCRProperty]!) {\n        jcr(workspace: EDIT) {\n            addNode(\n                parentPathOrId: $parentPath\n                name: $name\n                primaryNodeType: "cl:controlledTerm"\n                properties: $properties\n            ) {\n                uuid\n            }\n        }\n    }\n',{parentPath:fe.path,name:c,properties:o});case 7:he("success","feedback.termCreated");case 8:return V(x({},k)),e.next=9,ve(h,fe.uuid);case 9:e.next=11;break;case 10:e.prev=10,d=e.catch(4),oe({type:"error",message:d.message});case 11:return e.prev=11,ae(!1),e.finish(11);case 12:case"end":return e.stop()}},e,null,[[4,10,11,12]])}));return function(t){return e.apply(this,arguments)}}(),we=function(){var e=(0,a.A)(s().mark(function e(r){var n;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(fe&&r){e.next=1;break}return e.abrupt("return");case 1:if(C(t("terms.deleteConfirm",{label:r.label||r.value}))){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=3,me(v,{path:r.path});case 3:return he("success","feedback.termDeleted"),e.next=4,ve(h,fe.uuid);case 4:e.next=6;break;case 5:e.prev=5,n=e.catch(2),oe({type:"error",message:n.message});case 6:case"end":return e.stop()}},e,null,[[2,5]])}));return function(t){return e.apply(this,arguments)}}();return d().createElement(p.LayoutContent,{header:d().createElement(p.Header,{title:t("pageTitle"),subtitle:t("pageSubtitle"),mainActions:[d().createElement(p.Button,{key:"create-list",color:"accent",size:"big",label:t("actions.createList"),onClick:function(){q(!0),B(null),G(x({},E)),V(x({},k))}})]}),content:d().createElement("div",{className:y().layout},se&&d().createElement("div",{className:"".concat(y().feedback," ").concat("error"===se.type?y().feedbackError:y().feedbackSuccess)},se.message),de&&d().createElement("div",{className:"".concat(y().feedback," ").concat(y().feedbackError)},de.message),d().createElement("div",{className:y().container},d().createElement("div",{className:y().listPanel},d().createElement(p.Typography,{variant:"heading"},t("lists.title")),d().createElement("div",{className:y().listsContainer},0===A.length&&!F&&d().createElement(p.Typography,{variant:"body"},t("lists.empty")),A.map(function(e){return d().createElement("button",{key:e.uuid,type:"button",className:"".concat(y().listButton," ").concat(e.uuid!==D||I?"":y().listButtonActive),onClick:function(){B(e.uuid),q(!1)}},d().createElement("span",null,e.title))})),d().createElement(p.Button,{size:"big",label:t("actions.reload"),onClick:function(){return ve(h)}})),d().createElement("div",{className:y().contentPanel},F&&d().createElement(p.Typography,{variant:"body"},t("states.loading")),!F&&(A.length>0||I)&&d().createElement(d().Fragment,null,d().createElement(p.Paper,{className:y().card},d().createElement(p.Typography,{variant:"heading"},t(I?"lists.createTitle":"lists.editTitle")),d().createElement("form",{onSubmit:xe},d().createElement("div",{className:y().formGroup},d().createElement(p.Typography,{variant:"body",weight:"bold"},t("lists.fields.systemName")),d().createElement(p.Input,{value:z.systemName,onChange:function(e){return ge("systemName",e.target.value)}}),d().createElement(p.Typography,{variant:"caption"},t("lists.help.systemName"))),d().createElement("div",{className:y().formGroup},d().createElement(p.Typography,{variant:"body",weight:"bold"},t("lists.fields.title")),d().createElement(p.Input,{value:z.title,onChange:function(e){return ge("title",e.target.value)}})),d().createElement("div",{className:y().formGroup},d().createElement(p.Typography,{variant:"body",weight:"bold"},t("lists.fields.description")),d().createElement("textarea",{className:y().textarea,value:z.description,onChange:function(e){return ge("description",e.target.value)}})),d().createElement("div",{style:{display:"flex",gap:"12px"}},d().createElement(p.Button,{type:"submit",size:"big",disabled:Z,label:t("actions.save")}),!I&&d().createElement(p.Button,{type:"button",size:"big",color:"danger",label:t("actions.delete"),onClick:function(){return Ee(fe)}})))),!fe||I?null:d().createElement(p.Paper,{className:y().card},d().createElement(p.Typography,{variant:"heading"},t("terms.title")),d().createElement("div",{style:{overflowX:"auto",marginTop:"12px"}},d().createElement(p.Table,null,d().createElement(p.TableHead,null,d().createElement(p.TableRow,null,d().createElement(p.TableHeadCell,null,t("terms.fields.value")),d().createElement(p.TableHeadCell,null,t("terms.fields.label")),d().createElement(p.TableHeadCell,null,t("terms.fields.description")),d().createElement(p.TableHeadCell,null,t("actions.actionsColumn")))),d().createElement(p.TableBody,null,fe&&0!==fe.terms.length?fe.terms.map(function(e){return d().createElement(p.TableRow,{key:e.uuid},d().createElement(p.TableBodyCell,null,e.value),d().createElement(p.TableBodyCell,null,e.label),d().createElement(p.TableBodyCell,null,e.description),d().createElement(p.TableBodyCell,null,d().createElement("div",{style:{display:"flex",gap:"8px"}},d().createElement(p.Button,{size:"small",label:t("actions.edit"),onClick:function(){return function(e){V({uuid:e.uuid,path:e.path,value:e.value,label:e.label,description:e.description})}(e)}}),d().createElement(p.Button,{size:"small",color:"danger",label:t("actions.delete"),onClick:function(){return we(e)}}))))}):d().createElement(p.TableRow,null,d().createElement(p.TableBodyCell,{colSpan:4},t("terms.empty")))))),d().createElement("form",{style:{marginTop:"16px",display:"flex",flexDirection:"column",gap:"12px"},onSubmit:ke},d().createElement(p.Typography,{variant:"subheading"},M.uuid?t("terms.editTitle"):t("terms.addTitle")),d().createElement("div",{className:y().formGroup},d().createElement(p.Typography,{variant:"body",weight:"bold"},t("terms.fields.value")),d().createElement(p.Input,{value:M.value,onChange:function(e){return ye("value",e.target.value)}})),d().createElement("div",{className:y().formGroup},d().createElement(p.Typography,{variant:"body",weight:"bold"},t("terms.fields.label")),d().createElement(p.Input,{value:M.label,onChange:function(e){return ye("label",e.target.value)}})),d().createElement("div",{className:y().formGroup},d().createElement(p.Typography,{variant:"body",weight:"bold"},t("terms.fields.description")),d().createElement("textarea",{className:y().textarea,value:M.description,onChange:function(e){return ye("description",e.target.value)}})),d().createElement("div",{style:{display:"flex",gap:"12px"}},d().createElement(p.Button,{type:"submit",size:"big",disabled:ne,label:t("actions.save")}),d().createElement(p.Button,{type:"button",size:"big",label:t("actions.cancel"),onClick:function(){return V(x({},k))}}))))),!F&&0===A.length&&!I&&d().createElement(p.Paper,{className:y().card},d().createElement(p.Typography,{variant:"body"},t("lists.empty"))))))})},S=function(){return d().createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},d().createElement("rect",{x:"4",y:"5",width:"16",height:"2",rx:"1"}),d().createElement("rect",{x:"4",y:"11",width:"16",height:"2",rx:"1"}),d().createElement("rect",{x:"4",y:"17",width:"16",height:"2",rx:"1"}))},P=function(){n.registry.add("adminRoute","controlled-lists",{targets:["administration-sites:10"],icon:d().createElement(S,null),label:"controlled-lists:controlled-lists.label",path:"".concat(o,"*"),defaultPath:o,isSelectable:!0,render:function(e){return d().createElement(c.Suspense,{fallback:"loading ..."},d().createElement(T,{match:e.match}))}}),console.debug("%c controlled-lists is activated","color: #3c8cba")},A=r(1793),j=r.n(A);const L=JSON.parse('{"controlled-lists":{"label":"Controlled lists","pageTitle":"Controlled lists","pageSubtitle":"Store centrally managed key/value lists for editors and developers.","states":{"loading":"Loading controlled lists..."},"errors":{"missingSite":"Please select a site to use controlled lists.","requiredFields":"System name and title are mandatory.","duplicateSystemName":"A list already uses the system name \\"{{name}}\\".","duplicateTermValue":"A term already uses the value \\"{{value}}\\"."},"actions":{"createList":"New list","reload":"Reload","save":"Save","cancel":"Cancel","delete":"Delete","edit":"Edit","actionsColumn":"Actions"},"lists":{"title":"Lists","empty":"No controlled lists yet.","createTitle":"Create a new list","editTitle":"Edit list","fields":{"systemName":"System name","title":"Title","description":"Description"},"help":{"systemName":"Unique identifier used by developers and APIs."},"deleteConfirm":"Delete the list \\"{{title}}\\"?"},"terms":{"title":"Terms","empty":"No terms defined for this list.","addTitle":"Add a term","editTitle":"Edit term","fields":{"value":"Value","label":"Label","description":"Description"},"deleteConfirm":"Delete the term \\"{{label}}\\"?"},"feedback":{"listCreated":"List created successfully.","listUpdated":"List updated.","listDeleted":"List deleted.","termCreated":"Term created.","termUpdated":"Term updated.","termDeleted":"Term deleted."}}}'),O=JSON.parse('{"controlled-lists":{"label":"Listes contrôlées","pageTitle":"Listes contrôlées","pageSubtitle":"Gérez des listes clé/valeur réutilisables dans toute la plateforme.","states":{"loading":"Chargement des listes contrôlées..."},"errors":{"missingSite":"Merci de sélectionner un site pour utiliser les listes contrôlées.","requiredFields":"Le nom système et le titre sont obligatoires.","duplicateSystemName":"Une liste utilise déjà le nom système \\"{{name}}\\".","duplicateTermValue":"Un terme utilise déjà la valeur \\"{{value}}\\"."},"actions":{"createList":"Nouvelle liste","reload":"Rafraîchir","save":"Enregistrer","cancel":"Annuler","delete":"Supprimer","edit":"Modifier","actionsColumn":"Actions"},"lists":{"title":"Listes","empty":"Aucune liste contrôlée pour l\'instant.","createTitle":"Créer une nouvelle liste","editTitle":"Modifier la liste","fields":{"systemName":"Nom système","title":"Titre","description":"Description"},"help":{"systemName":"Identifiant unique utilisé par les développeurs et les API."},"deleteConfirm":"Supprimer la liste \\"{{title}}\\" ?"},"terms":{"title":"Termes","empty":"Aucun terme n\'est défini pour cette liste.","addTitle":"Ajouter un terme","editTitle":"Modifier le terme","fields":{"value":"Valeur","label":"Libellé","description":"Description"},"deleteConfirm":"Supprimer le terme \\"{{label}}\\" ?"},"feedback":{"listCreated":"Liste créée.","listUpdated":"Liste mise à jour.","listDeleted":"Liste supprimée.","termCreated":"Terme créé.","termUpdated":"Terme mis à jour.","termDeleted":"Terme supprimé."}}}');var D=function(){[["en",L],["fr",O]].forEach(function(e){var t=(0,l.A)(e,2),r=t[0],n=t[1]["controlled-lists"];n&&!j().hasResourceBundle(r,"controlled-lists")&&j().addResourceBundle(r,"controlled-lists",n,!0,!0)})};function B(){return _.apply(this,arguments)}function _(){return(_=(0,a.A)(s().mark(function e(){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return D(),e.next=1,j().loadNamespaces("controlled-lists");case 1:P();case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function $(){n.registry.add("callback","controlled-lists",{targets:["jahiaApp-init:2"],callback:B})}}}]);
//# sourceMappingURL=422.jahia.c59519.js.map